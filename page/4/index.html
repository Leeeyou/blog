<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/iBlogWebsite/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/iBlogWebsite/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/iBlogWebsite/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/iBlogWebsite/images/logo.svg" color="#222">

<link rel="stylesheet" href="/iBlogWebsite/css/main.css">


<link rel="stylesheet" href="/iBlogWebsite/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"leeeyou.github.io","root":"/iBlogWebsite/","scheme":"Muse","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta property="og:type" content="website">
<meta property="og:title" content="Leeeyou123">
<meta property="og:url" content="https://leeeyou.github.io/iBlogWebsite/page/4/index.html">
<meta property="og:site_name" content="Leeeyou123">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="Leeeyou">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://leeeyou.github.io/iBlogWebsite/page/4/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'en'
  };
</script>

  <title>Leeeyou123</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/iBlogWebsite/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Leeeyou123</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/iBlogWebsite/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/iBlogWebsite/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/iBlogWebsite/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/iBlogWebsite/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="Searching..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://leeeyou.github.io/iBlogWebsite/2018/08/28/2018/2018-08-28-Java%E4%B9%8B%E5%A4%9A%E6%80%81/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://avatars1.githubusercontent.com/u/6735624?s=460&v=4">
      <meta itemprop="name" content="Leeeyou">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Leeeyou123">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/iBlogWebsite/2018/08/28/2018/2018-08-28-Java%E4%B9%8B%E5%A4%9A%E6%80%81/" class="post-title-link" itemprop="url">Java之多态</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2018-08-28 00:00:00" itemprop="dateCreated datePublished" datetime="2018-08-28T00:00:00+08:00">2018-08-28</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2021-03-05 11:22:54" itemprop="dateModified" datetime="2021-03-05T11:22:54+08:00">2021-03-05</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/iBlogWebsite/categories/code/" itemprop="url" rel="index"><span itemprop="name">code</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="1-实现机制"><a href="#1-实现机制" class="headerlink" title="1. 实现机制"></a>1. 实现机制</h1><p>多态靠的是父类的引用变量可以指向子类的具体实例对象，而程序调用的方法在运行期才动态绑定，就是引用变量所指向的具体实例对象的方法，也就是内存里正在运行的那个对象的方法，而不是引用变量的类型中定义的方法。</p>
<h1 id="2-多态的前提"><a href="#2-多态的前提" class="headerlink" title="2. 多态的前提"></a>2. 多态的前提</h1><p>必须是类与类之间的关系。要么继承，要么实现。</p>
<p>通常还有一个前提就是：覆盖。</p>
<h1 id="3-多态的利弊"><a href="#3-多态的利弊" class="headerlink" title="3. 多态的利弊"></a>3. 多态的利弊</h1><ul>
<li>多态的出现大大的提高了程序的扩展性。</li>
<li>提高了扩展性的同时，只能使用父类的引用访问父类中的成员。</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">Animal</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">eat</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Activities</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">doActivity</span><span class="params">(Animal a)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (a != <span class="keyword">null</span>) &#123;</span><br><span class="line">			a.eat();</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span> (a <span class="keyword">instanceof</span> Cat) &#123;</span><br><span class="line">			((Cat) a).catchMouse();</span><br><span class="line">		&#125; <span class="keyword">else</span> <span class="keyword">if</span> (a <span class="keyword">instanceof</span> Dog) &#123;</span><br><span class="line">			((Dog) a).kanJia();</span><br><span class="line">		&#125; <span class="keyword">else</span> <span class="keyword">if</span> (a <span class="keyword">instanceof</span> Pig) &#123;</span><br><span class="line">			((Pig) a).sleep();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cat</span> <span class="keyword">extends</span> <span class="title">Animal</span> </span>&#123;</span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">eat</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;吃鱼&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">catchMouse</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;抓老鼠&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span> <span class="keyword">extends</span> <span class="title">Animal</span> </span>&#123;</span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">eat</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;吃骨头&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">kanJia</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;看家&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Pig</span> <span class="keyword">extends</span> <span class="title">Animal</span> </span>&#123;</span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">eat</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;吃饲料&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">sleep</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;老是睡觉&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DuoTaiDemo1</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// new Activities().doActivity(null);</span></span><br><span class="line">		</span><br><span class="line">		Animal a = <span class="keyword">new</span> Cat();<span class="comment">//类型提升，向上转型</span></span><br><span class="line">		a.eat();</span><br><span class="line">		<span class="comment">//如果想要调用猫的特有方法，如何操作？？</span></span><br><span class="line">		<span class="comment">//强制将父类的应用转成子类类型，向下转型</span></span><br><span class="line">		Cat c = (Cat)a;</span><br><span class="line">		c.catchMouse();</span><br><span class="line">		</span><br><span class="line">		<span class="comment">/**</span></span><br><span class="line"><span class="comment">		 * 注意：前往不能将父类对象转成子类类型</span></span><br><span class="line"><span class="comment">		 * Animal a = new Animal();</span></span><br><span class="line"><span class="comment">		 * Cat c = (Cat)a;</span></span><br><span class="line"><span class="comment">		 * 我们能转换的是父类引用执行了自己子类对象是，该应用可以被提升</span></span><br><span class="line"><span class="comment">		 * 多态自始至终都是子类对象在做着变化</span></span><br><span class="line"><span class="comment">		 */</span></span><br><span class="line">		</span><br><span class="line">		<span class="comment">//下面代码是利用Activities类创建对象完成对Cat，Dog，Pig进行的活动</span></span><br><span class="line">		<span class="keyword">new</span> Activities().doActivity(<span class="keyword">new</span> Cat());</span><br><span class="line">		<span class="keyword">new</span> Activities().doActivity(<span class="keyword">new</span> Dog());</span><br><span class="line">		<span class="keyword">new</span> Activities().doActivity(<span class="keyword">new</span> Pig());</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 需求：电脑运行实例，电脑运行基于主板，提供扩展功能</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> LeeYou</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">PCI</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">open</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">close</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 主板，使用PCI接口</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MainBoard</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;mainBoard run...&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">userPCI</span><span class="params">(PCI p)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (p != <span class="keyword">null</span>) &#123;</span><br><span class="line">			p.open();</span><br><span class="line">			p.close();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 网卡扩展类，实现PCI接口</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">NetCard</span> <span class="keyword">implements</span> <span class="title">PCI</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">open</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;netcard open...&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">close</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;netcard close...&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 声卡扩展类，实现PCI接口</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SoundCard</span> <span class="keyword">implements</span> <span class="title">PCI</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">open</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;soundcard open...&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">close</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;soundcard close...&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DuoTaiDemo3</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		MainBoard mb = <span class="keyword">new</span> MainBoard();</span><br><span class="line">		mb.run();</span><br><span class="line">		mb.userPCI(<span class="keyword">new</span> SoundCard());</span><br><span class="line">		mb.userPCI(<span class="keyword">new</span> NetCard());</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="4-多态的注意事项"><a href="#4-多态的注意事项" class="headerlink" title="4. 多态的注意事项"></a>4. 多态的注意事项</h1><h2 id="4-1-在多态中成员函数的特点"><a href="#4-1-在多态中成员函数的特点" class="headerlink" title="4.1. 在多态中成员函数的特点"></a>4.1. 在多态中成员函数的特点</h2><ul>
<li>在编译时期：参阅引用型变量所属的类是否有调用的方法。如果有，编译通过；如果没有，编译失败。</li>
<li>在运行时期：参阅对象所属的类中是否有调用的方法。</li>
</ul>
<h2 id="4-2-在多态中，成员变量的特点（常用于面试）"><a href="#4-2-在多态中，成员变量的特点（常用于面试）" class="headerlink" title="4.2. 在多态中，成员变量的特点（常用于面试）"></a>4.2. 在多态中，成员变量的特点（常用于面试）</h2><p>无论编译和运行，都参考左边（引用型变量所属的类）</p>
<h2 id="4-3-在多态中，静态成员函数的特点（常用于面试）"><a href="#4-3-在多态中，静态成员函数的特点（常用于面试）" class="headerlink" title="4.3. 在多态中，静态成员函数的特点（常用于面试）"></a>4.3. 在多态中，静态成员函数的特点（常用于面试）</h2><p>无论在编译和运行，都参考左边（引用型变量所属的类）</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.leeeyou.test;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Father</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> num = <span class="number">10</span>;</span><br><span class="line">    <span class="keyword">static</span> String name = <span class="string">&quot;Father Class&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">method1</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Father method 1&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">method2</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Father method 2&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">method4</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Father method 4&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Son</span> <span class="keyword">extends</span> <span class="title">Father</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> num = <span class="number">20</span>;</span><br><span class="line">    <span class="keyword">static</span> String name = <span class="string">&quot;Son Class&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">method1</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Son method 1&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">method3</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Son method 3&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">method4</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Son method 4&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DuoTaiDemo2</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//演示6.1</span></span><br><span class="line">        Father f = <span class="keyword">new</span> Son();</span><br><span class="line">        f.method1();</span><br><span class="line">        f.method2();<span class="comment">//对应6.1.2</span></span><br><span class="line">        <span class="comment">//f.method3(); //对应6.1.1,这一行会报错</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//演示6.2</span></span><br><span class="line">        System.out.println(f.num);</span><br><span class="line">        System.out.println(f.name);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//演示6.3</span></span><br><span class="line">        f.method4();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="../../../../images/githubpages/%E5%A4%9A%E6%80%81/%E8%BF%90%E8%A1%8C%E7%BB%93%E6%9E%9C.png" alt="运行结果"></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://leeeyou.github.io/iBlogWebsite/2018/08/17/2018/2018-08-17-Android%E4%B9%8B%E5%A4%9A%E7%BA%BF%E7%A8%8B/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://avatars1.githubusercontent.com/u/6735624?s=460&v=4">
      <meta itemprop="name" content="Leeeyou">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Leeeyou123">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/iBlogWebsite/2018/08/17/2018/2018-08-17-Android%E4%B9%8B%E5%A4%9A%E7%BA%BF%E7%A8%8B/" class="post-title-link" itemprop="url">Android之多线程</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2018-08-17 00:00:00" itemprop="dateCreated datePublished" datetime="2018-08-17T00:00:00+08:00">2018-08-17</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2021-03-05 11:22:54" itemprop="dateModified" datetime="2021-03-05T11:22:54+08:00">2021-03-05</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/iBlogWebsite/categories/code/" itemprop="url" rel="index"><span itemprop="name">code</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>Android 程序的大多数代码操作都必须执行在主线程，例如：系统事件(例如设备屏幕发生旋转)，输入事件(例如用户点击滑动等)，程序回调服务，UI 绘制以及闹钟事件等等。那么我们在上述事件或者方法中插入的代码也将执行在主线程</p>
<p>一旦我们在主线程里面添加了操作复杂的代码，这些代码就很可能阻碍主线程去响应点击/滑动事件，阻碍主线程的 UI 绘制等等。</p>
<p>我们知道，为了让屏幕的刷新帧率达到 60fps，我们需要确保 16ms 内完成单次刷新的操作。一旦我们在主线程里面执行的任务过于繁重就可能导致接收到刷新信号的时候因为资源被占用而无法完成这次刷新操作，这样就会产生掉帧的现象，刷新帧率自然也就跟着下降了(一旦刷新帧率降到 20fps 左右，用户就可以明显感知到卡顿不流畅了)。</p>
<h1 id="1-Android-系统为我们提供的若干组工具类"><a href="#1-Android-系统为我们提供的若干组工具类" class="headerlink" title="1. Android 系统为我们提供的若干组工具类"></a>1. Android 系统为我们提供的若干组工具类</h1><h2 id="1-1-AsyncTask"><a href="#1-1-AsyncTask" class="headerlink" title="1.1. AsyncTask"></a>1.1. AsyncTask</h2><p>为 UI 线程与工作线程之间进行快速的切换提供一种简单便捷的机制。适用于当下立即需要启动，但是异步执行的生命周期短暂的使用场景。</p>
<p>默认情况下，所有的 AsyncTask 任务都是被线性调度执行的，他们处在同一个任务队列当中，按顺序逐个执行。假设你按照顺序启动20个 AsyncTask，一旦其中的某个 AsyncTask 执行时间过长，队列中的其他剩余 AsyncTask 都处于阻塞状态，必须等到该任务执行完毕之后才能够有机会执行下一个任务。</p>
<p>如何才能够真正的取消一个 AsyncTask 的执行呢？我们知道 AsyncTaks 有提供 cancel()的方法，但是这个方法实际上做了什么事情呢？线程本身并不具备中止正在执行的代码的能力，为了能够让一个线程更早的被销毁，我们需要在 doInBackground()的代码中不断的添加程序是否被中止的判断逻辑，一旦任务被成功中止，AsyncTask 就不会继续调用 onPostExecute()，而是通过调用 onCancelled()的回调方法反馈任务执行取消的结果。我们可以根据任务回调到哪个方法（是 onPostExecute 还是 onCancelled）来决定是对 UI 进行正常的更新还是把对应的任务所占用的内存进行销毁等。</p>
<p>使用 AsyncTask 很容易导致内存泄漏，一旦把 AsyncTask 写成 Activity 的内部类的形式就很容易因为 AsyncTask 生命周期的不确定而导致 Activity 发生泄漏。</p>
<h2 id="1-2-HandlerThread"><a href="#1-2-HandlerThread" class="headerlink" title="1.2. HandlerThread"></a>1.2. HandlerThread</h2><p>为某些回调方法或者等待某些任务的执行设置一个专属的线程，并提供线程任务的调度机制。</p>
<p>HandlerThread 比较合适处理那些在工作线程执行，需要花费时间偏长的任务。我们只需要把任务发送给 HandlerThread，然后就只需要等待任务执行结束的时候通知返回到主线程就好了。</p>
<p>另外很重要的一点是，一旦我们使用了 HandlerThread，需要特别注意给 HandlerThread 设置不同的线程优先级，CPU 会根据设置的不同线程优先级对所有的线程进行调度优化。</p>
<h2 id="1-3-IntentService"><a href="#1-3-IntentService" class="headerlink" title="1.3. IntentService"></a>1.3. IntentService</h2><p>适合于执行由 UI 触发的后台 Service 任务，并可以把后台任务执行的情况通过一定的机制反馈给 UI。</p>
<p>首先，因为 IntentService 内置的是 HandlerThread 作为异步线程，所以每一个交给 IntentService 的任务都将以队列的方式逐个被执行到，一旦队列中有某个任务执行时间过长，那么就会导致后续的任务都会被延迟处理。</p>
<p>其次，通常使用到 IntentService 的时候，我们会结合使用 BroadcastReceiver 把工作线程的任务执行结果返回给主 UI 线程。使用广播容易引起性能问题，我们可以使用 LocalBroadcastManager 来发送在程序内部传递的广播，从而提升广播的性能。我们也可以使用 runOnUiThread() 快速回调到主 UI 线程。</p>
<p>最后，包含正在运行的 IntentService 的程序相比起纯粹的后台程序更不容易被系统杀死，该程序的优先级是介于前台程序与纯后台程序之间的</p>
<p>IntentService 继承自普通 Service 同时又在内部创建了一个 HandlerThread，在 onHandlerIntent()的回调里面处理扔到 IntentService 的任务。所以 IntentService 就不仅仅具备了异步线程的特性，还同时保留了 Service 不受主页面生命周期影响的特点。</p>
<h2 id="1-4-ThreadPool"><a href="#1-4-ThreadPool" class="headerlink" title="1.4. ThreadPool"></a>1.4. ThreadPool</h2><p>把任务分解成不同的单元，分发到各个不同的线程上，进行同时并发处理。</p>
<h3 id="1-4-1-线程池的基本概念"><a href="#1-4-1-线程池的基本概念" class="headerlink" title="1.4.1. 线程池的基本概念"></a>1.4.1. 线程池的基本概念</h3><p><img src="../../../../images/githubpages/Android%E5%A4%9A%E7%BA%BF%E7%A8%8B/ThreadPoolExecutor%E6%9C%89%E5%9B%9B%E4%B8%AA%E9%87%8D%E8%BD%BD%E7%9A%84%E6%9E%84%E9%80%A0%E6%96%B9%E6%B3%95.png" alt="ThreadPoolExecutor有四个重载的构造方法"></p>
<p>corePoolSize：线程池中核心线程的数量</p>
<p>maximumPoolSize：线程池中最大线程数量</p>
<p>keepAliveTime：非核心线程的超时时长，当系统中非核心线程闲置时间超过keepAliveTime之后，则会被回收。如果ThreadPoolExecutor的allowCoreThreadTimeOut属性设置为true，则该参数也表示核心线程的超时时长</p>
<p>unit：第三个参数的单位，有纳秒、微秒、毫秒、秒、分、时、天等</p>
<p>workQueue：线程池中的任务队列，该队列主要用来存储已经被提交但是尚未执行的任务。存储在这里的任务是由ThreadPoolExecutor的execute方法提交来的。</p>
<ul>
<li><p>workQueue是一个BlockingQueue类型，它是一个特殊的队列，当我们从BlockingQueue中取数据时，如果BlockingQueue是空的，则取数据的操作会进入到阻塞状态，当BlockingQueue中有了新数据时，这个取数据的操作又会被重新唤醒。同理，如果BlockingQueue中的数据已经满了，往BlockingQueue中存数据的操作又会进入阻塞状态，直到BlockingQueue中又有新的空间，存数据的操作又会被冲洗唤醒。</p>
</li>
<li><p>1.ArrayBlockingQueue 这个表示一个规定了大小的BlockingQueue，ArrayBlockingQueue的构造函数接受一个int类型的数据，该数据表示BlockingQueue的大小，存储在ArrayBlockingQueue中的元素按照FIFO（先进先出）的方式来进行存取。</p>
</li>
<li><p>2.LinkedBlockingQueue 这个表示一个大小不确定的BlockingQueue，在LinkedBlockingQueue的构造方法中可以传一个int类型的数据，这样创建出来的LinkedBlockingQueue是有大小的，也可以不传，不传的话，LinkedBlockingQueue的大小就为Integer.MAX_VALUE</p>
</li>
<li><p>3.PriorityBlockingQueue 这个队列和LinkedBlockingQueue类似，不同的是PriorityBlockingQueue中的元素不是按照FIFO来排序的，而是按照元素的Comparator来决定存取顺序的（这个功能也反映了存入PriorityBlockingQueue中的数据必须实现了Comparator接口）。</p>
</li>
<li><p>4.SynchronousQueue 这个是同步Queue，属于线程安全的BlockingQueue的一种，在SynchronousQueue中，生产者线程的插入操作必须要等待消费者线程的移除操作，Synchronous内部没有数据缓存空间，因此我们无法对SynchronousQueue进行读取或者遍历其中的数据，元素只有在你试图取走的时候才有可能存在。我们可以理解为生产者和消费者互相等待，等到对方之后然后再一起离开。</p>
</li>
</ul>
<p>threadFactory ：为线程池提供创建新线程的功能，这个我们一般使用默认即可</p>
<p>handler：拒绝策略，当线程无法执行新任务时（一般是由于线程池中的线程数量已经达到最大数或者线程池关闭导致的）默认情况下，当线程池无法处理新线程时，会抛出一个RejectedExecutionException。</p>
<h3 id="1-4-2-线程池的运行规则"><a href="#1-4-2-线程池的运行规则" class="headerlink" title="1.4.2. 线程池的运行规则"></a>1.4.2. 线程池的运行规则</h3><ul>
<li>1.execute一个线程之后，如果线程池中的线程数未达到核心线程数，则会立马启用一个核心线程去执行</li>
<li>2.execute一个线程之后，如果线程池中的线程数已经达到核心线程数，且workQueue未满，则将新线程放workQueue中等待执行</li>
<li>3.execute一个线程之后，如果线程池中的线程数已经达到核心线程数但未超过非核心线程数，且wrkQueue已满，则开启一个非核心线程来执行任务</li>
<li>4.execute一个线程之后，如果线程池中的线程数已经超过非核心线程数，则拒绝执行该任</li>
</ul>
<h3 id="1-4-3-ThreadPool的使用"><a href="#1-4-3-ThreadPool的使用" class="headerlink" title="1.4.3. ThreadPool的使用"></a>1.4.3. ThreadPool的使用</h3><p>参考<a href="https://leeeyou.github.io/2017/04/14/blog-2017-04-14-Java%E4%B9%8B%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86%E6%B1%87%E6%80%BB/#ThreadPool%E7%94%A8%E6%B3%95%E4%B8%8E%E4%BC%98%E5%8A%BF">leeyou.xyz</a></p>
<h3 id="1-4-4-线程池其他常用功能"><a href="#1-4-4-线程池其他常用功能" class="headerlink" title="1.4.4. 线程池其他常用功能"></a>1.4.4. 线程池其他常用功能</h3><ul>
<li>shutDown()  关闭线程池，不影响已经提交的任务</li>
<li>shutDownNow() 关闭线程池，并尝试去终止正在执行的线程</li>
<li>allowCoreThreadTimeOut(boolean value) 允许核心线程闲置超时时被回收</li>
<li>submit 一般情况下我们使用execute来提交任务，但是有时候可能也会用到submit，使用submit的好处是submit有返回值</li>
</ul>
<h3 id="1-4-5-使用时要注意的几点"><a href="#1-4-5-使用时要注意的几点" class="headerlink" title="1.4.5. 使用时要注意的几点"></a>1.4.5. 使用时要注意的几点</h3><p>使用线程池需要特别注意同时并发线程数量的控制，理论上来说，我们可以设置任意你想要的并发数量，但是这样做非常的不好。因为 CPU 只能同时执行固定数量的线程数，一旦同时并发的线程数量超过 CPU 能够同时执行的阈值，CPU 就需要花费精力来判断到底哪些线程的优先级比较高，需要在不同的线程之间进行调度切换。</p>
<p>一旦同时并发的线程数量达到一定的量级，这个时候 CPU 在不同线程之间进行调度的时间就可能过长，反而导致性能严重下降。另外需要关注的一点是，每开一个新的线程，都会耗费至少 64K+ 的内存。为了能够方便的对线程数量进行控制，ThreadPoolExecutor 为我们提供了初始化的并发线程数量，以及最大的并发数量进行设置。</p>
<p>另外需要关注的一个问题是：Runtime.getRuntime().availableProcesser()方法并不可靠，他返回的值并不是真实的 CPU 核心数，因为 CPU 会在某些情况下选择对部分核心进行睡眠处理，在这种情况下，返回的数量就只能是激活的 CPU 核心数。</p>
<h1 id="2-Android中的任务线程模型"><a href="#2-Android中的任务线程模型" class="headerlink" title="2. Android中的任务线程模型"></a>2. Android中的任务线程模型</h1><p>Looper：能够确保线程持续存活并且可以不断的从任务队列中获取任务并进行执行。</p>
<p>Handler：能够帮助实现队列任务的管理，不仅仅能够把任务插入到队列的头部，尾部，还可以按照一定的时间延迟来确保任务从队列中能够来得及被取消掉。</p>
<p>MessageQueue：使用 Intent，Message，Runnable 作为任务的载体在不同的线程之间进行传递。</p>
<p>三个组件打包到一起进行协作，这就是 HandlerThread</p>
<p><img src="../../../../images/githubpages/Android%E5%A4%9A%E7%BA%BF%E7%A8%8B/HandlerThread.png" alt="HandlerThread"></p>
<h1 id="3-平衡并发的线程数和内存消耗的问题"><a href="#3-平衡并发的线程数和内存消耗的问题" class="headerlink" title="3. 平衡并发的线程数和内存消耗的问题"></a>3. 平衡并发的线程数和内存消耗的问题</h1><p>多线程并发访问同一块内存区域有可能带来很多问题，例如读写的权限争夺问题，ABA 问题等等。为了解决这些问题，我们会需要引入锁的概念。</p>
<h2 id="3-1-Android中多线程引起的问题"><a href="#3-1-Android中多线程引起的问题" class="headerlink" title="3.1. Android中多线程引起的问题"></a>3.1. Android中多线程引起的问题</h2><p>Android UI 对象的创建，更新，销毁等等操作都默认是执行在主线程，但是如果我们在非主线程对UI对象进行操作，程序将可能出现异常甚至是崩溃。</p>
<p>在非 UI 线程中直接持有 UI 对象的引用也很可能出现问题。例如Work线程中持有某个 UI 对象的引用，在 Work 线程执行完毕之前，UI 对象在主线程中被从 ViewHierarchy 中移除了，这个时候 UI 对象的任何属性都已经不再可用了，另外对这个 UI 对象的更新操作也都没有任何意义了，因为它已经从 ViewHierarchy 中被移除，不再绘制到画面上了。</p>
<p>View 对象本身对所属的 Activity 是有引用关系的，如果工作线程持续保有 View 的引用，这就可能导致 Activity 无法完全释放。除了直接显式的引用关系可能导致内存泄露之外，我们还需要特别留意隐式的引用关系也可能导致泄露。例如通常我们会看到在 Activity 里面定义的一个 AsyncTask，这种类型的 AsyncTask 与外部的 Activity 是存在隐式引用关系的，只要 Task 没有结束，引用关系就会一直存在，这很容易导致 Activity 的泄漏。更糟糕的情况是，它不仅仅发生了内存泄漏，还可能导致程序异常或者崩溃。</p>
<p><strong>我们需要谨记的原则就是：不要在任何非 UI 线程里面去持有 UI 对象的引用。</strong></p>
<p><strong>系统为了确保所有的 UI 对象都只会被 UI 线程所进行创建，更新，销毁的操作，特地设计了对应的工作机制(当 Activity 被销毁的时候，由该 Activity 所触发的非 UI 线程都将无法对UI对象进行操作，否者就会抛出程序执行异常的错误)来防止 UI 对象被错误的使用。</strong></p>
<h1 id="4-Loaders"><a href="#4-Loaders" class="headerlink" title="4. Loaders"></a>4. Loaders</h1><p>当启动工作线程的 Activity 被销毁的时候，我们应该做点什么呢？</p>
<p>为了方便的控制工作线程的启动与结束，Android 为我们引入了 Loader 来解决这个问题。<br>我们知道 Activity 有可能因为用户的主动切换而频繁的被创建与销毁，也有可能是因为类似屏幕发生旋转等被动原因而销毁再重建。在 Activity 不停的创建与销毁的过程当中，很有可能因为工作线程持有 Activity 的 View 而导致内存泄漏(因为工作线程很可能持有 View 的强引用，另外工作线程的生命周期还无法保证和 Activity 的生命周期一致，这样就容易发生内存泄漏了)。除了可能引起内存泄漏之外，在 Activity 被销毁之后，工作线程还继续更新视图是没有意义的，因为此时视图已经不在界面上显示了。</p>
<p><img src="../../../../images/githubpages/Android%E5%A4%9A%E7%BA%BF%E7%A8%8B/loaders.jpg" alt="Loaders"></p>
<p>Loader 的出现就是为了确保工作线程能够和 Activity 的生命周期保持一致</p>
<ul>
<li><p>LoaderManager 会对查询的操作进行缓存，只要对应 Cursor 上的数据源没有发生变化，在配置信息发生改变的时候(例如屏幕的旋转)，Loader  可以直接把缓存的数据回调到 onLoadFinished()，从而避免重新查询数据。另外系统会在 Loader 不再需要使用到的时候(例如使用 Back 按钮退出当前页面)回调 onLoaderReset()方法，我们可以在这里做数据的清除等等操作。</p>
</li>
<li><p>在 Activity 或者 Fragment 中使用 Loader 可以方便的实现异步加载的框架，Loader 有诸多优点。但是实现 Loader 的这套代码还是稍微有点点复杂，Android 官方为我们提供了使用 Loader 的示例代码进行参考学习。</p>
</li>
</ul>
<h1 id="5-线程优先级的重要性"><a href="#5-线程优先级的重要性" class="headerlink" title="5. 线程优先级的重要性"></a>5. 线程优先级的重要性</h1><p>Android 系统会根据当前运行的可见的程序和不可见的后台程序对线程进行归类，划分为 forground 的那部分线程会大致占用掉 CPU 的90%左右的时间片，background 的那部分线程就总共只能分享到5%-10%左右的时间片。之所以设计成这样是因为 forground 的程序本身的优先级就更高，理应得到更多的执行时间。</p>
<p>默认情况下，新创建的线程的优先级默认和创建它的母线程保持一致。如果主 UI 线程创建出了几十个工作线程，这些工作线程的优先级就默认和主线程保持一致了，为了不让新创建的工作线程和主线程抢占 CPU 资源，需要把这些线程的优先级进行降低处理，这样才能给帮助 CPU 识别主次，提高主线程所能得到的系统资源。</p>
<p>在 Android 系统里面，我们可以通过 android.os.Process.setThreadPriority(int) 设置线程的优先级，参数范围从-20到19，数值越小优先级越高。Android 系统还为我们提供了以下的一些预设值，我们可以通过给不同的工作线程设置不同数值的优先级来达到更细粒度的控制。</p>
<p><img src="../../../../images/githubpages/Android%E5%A4%9A%E7%BA%BF%E7%A8%8B/%E7%BA%BF%E7%A8%8B%E4%BC%98%E5%85%88%E7%BA%A7.jpg" alt="线程优先级"></p>
<p>Android 系统里面的 AsyncTask 与 IntentService已经默认帮助我们设置线程的优先级，但是对于那些非官方提供的多线程工具类，我们需要特别留意根据需要自己手动来设置线程的优先级。</p>
<p><img src="../../../../images/githubpages/Android%E5%A4%9A%E7%BA%BF%E7%A8%8B/%E7%BA%BF%E7%A8%8B%E4%BC%98%E5%85%88%E7%BA%A72.jpg" alt="线程优先级"></p>
<p><img src="../../../../images/githubpages/Android%E5%A4%9A%E7%BA%BF%E7%A8%8B/%E7%BA%BF%E7%A8%8B%E4%BC%98%E5%85%88%E7%BA%A73.jpg" alt="线程优先级"></p>
<h1 id="6-工具篇"><a href="#6-工具篇" class="headerlink" title="6. 工具篇"></a>6. 工具篇</h1><p>从 Android M 系统开始，系统更新了 GPU Profiling 的工具来帮助我们定位 UI 的渲染性能问题。早期的 CPU Profiling 工具只能粗略的显示出 Process，Execute，Update 三大步骤的时间耗费情况。但是仅仅显示三大步骤的时间耗费情况，还是不太能够清晰帮助我们定位具体的程序代码问题，所以在 Android M 版本开始，GPU Profiling 工具把渲染操作拆解成8个详细的步骤进行显示。</p>
<p>Sync &amp; Upload：通常表示的是准备当前界面上有待绘制的图片所耗费的时间，为了减少该段区域的执行时间，我们可以减少屏幕上的图片数量或者是缩小图片本身的大小。</p>
<p>Measure &amp; Layou：这里表示的是布局的 onMeasure 与 onLayout 所花费的时间，一旦时间过长，就需要仔细检查自己的布局是不是存在严重的性能问题。</p>
<p>Animation：表示的是计算执行动画所需要花费的时间，包含的动画有 ObjectAnimator，ViewPropertyAnimator，Transition 等等。一旦这里的执行时间过长，就需要检查是不是使用了非官方的动画工具或者是检查动画执行的过程中是不是触发了读写操作等等。</p>
<p>Input Handling：表示的是系统处理输入事件所耗费的时间，粗略等于对于的事件处理方法所执行的时间。一旦执行时间过长，意味着在处理用户的输入事件的地方执行了复杂的操作。</p>
<p>Misc/Vsync Delay：如果稍加注意，我们可以在开发应用的 Log 日志里面看到这样一行提示：I/Choreographer(691): Skipped XXX frames! The application may be doing too much work on its main thread。这意味着我们在主线程执行了太多的任务，导致 UI 渲染跟不上 vSync 的信号而出现掉帧的情况。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://leeeyou.github.io/iBlogWebsite/2018/08/14/2018/2018-08-14-Java%E4%B9%8B%E6%A0%B8%E5%BF%8336%E8%AE%B2%E6%95%B4%E7%90%86/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://avatars1.githubusercontent.com/u/6735624?s=460&v=4">
      <meta itemprop="name" content="Leeeyou">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Leeeyou123">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/iBlogWebsite/2018/08/14/2018/2018-08-14-Java%E4%B9%8B%E6%A0%B8%E5%BF%8336%E8%AE%B2%E6%95%B4%E7%90%86/" class="post-title-link" itemprop="url">Java之核心36讲整理</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2018-08-14 00:00:00" itemprop="dateCreated datePublished" datetime="2018-08-14T00:00:00+08:00">2018-08-14</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2021-03-05 11:22:54" itemprop="dateModified" datetime="2021-03-05T11:22:54+08:00">2021-03-05</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/iBlogWebsite/categories/code/" itemprop="url" rel="index"><span itemprop="name">code</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>这里是将极客时间上杨晓峰老师的专栏文章，在这里整理出来方便自己后续复习用。文章分为5大模块：</p>
<ul>
<li>Java 基础：我会围绕 Java 语言基本特性和机制，由点带面，让你构建牢固的 Java 技术工底。  </li>
<li>Java 进阶：将围绕并发编程、Java 虚拟机等领域展开，助你攻坚大厂 Java 面试的核心阵地。  </li>
<li>Java 应用开发扩展：从数据库编程、主流开源框架、分布式开发等，帮你掌握 Java 开发的十八般兵器。  </li>
<li>Java 安全基础：让你理解常见的应用安全问题和处理方法，掌握如何写出符合大厂规范的安全代码。  </li>
<li>Java 性能基础：你将掌握相关工具、方法论与基础实践。  </li>
</ul>
<p>对于Android开发人员来说，后面章节内容更多偏向后端开发，对于这部分内容，我自己是量力而行。很多知识点以前只是听说或是了解不透彻，比如CAS、AQS、内存模型、多线程并发等，这次在专栏中，收获满满；只要用心读，保持清晰的头脑，应该还会有进一步的提升。</p>
<p>技术之外，杨老师在文章中有意的提到了许多思想层面的内容，个人觉得对于意识的提升非常有帮助。比如说“你需要尽量表现出自己的思维深入并系统化”、“知其然并知其所以然，明白基本组成和机制”、“应用场景是我们在选择哪个API前需要考虑的，不能一概而论的说A比B绝对好”等等。当然意识层面的提高也绝非说说而已，还需结合实践和自己的思考不断摸索和总结。</p>
<p>在某些文章中，我添加了一些自己不太熟悉的内容补充，在相应的章节里面做好记录，也算是查漏补缺，消除自己的疑虑吧。</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://github.com/LeeeYou/The-core-of-Java-36/blob/master/kai-pian-ci-yi-mian-shi-ti-wei-qie-ru-dian-ff0c-you-xiao-ti-sheng-ni-de-java-nei-gong.md">开篇词 | 以面试题为切入点，有效提升你的Java内功</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/LeeeYou/The-core-of-Java-36/blob/master/di-1-jiang-tan-tan-ni-dui-java-ping-tai-de-li-jie-ff1f.md">第1讲 | 谈谈你对Java平台的理解？</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/LeeeYou/The-core-of-Java-36/blob/master/di-2-jiang-exception-he-error-you-shi-yao-qu-bie-ff1f.md">第2讲 | Exception和Error有什么区别？</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/LeeeYou/The-core-of-Java-36/blob/master/di-3-jiang-tan-tan-final-finally-finalize-you-shi-yao-bu-tong-ff1f.md">第3讲 | 谈谈final、finally、 finalize有什么不同？</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/LeeeYou/The-core-of-Java-36/blob/master/di-4-jiang-qiang-yin-yong-3001-ruan-yin-yong-3001-ruo-yin-yong-3001-huan-xiang-yin-yong-you-shi-yao-qu-bie-ff1f.md">第4讲 | 强引用、软引用、弱引用、幻象引用有什么区别？</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/LeeeYou/The-core-of-Java-36/blob/master/di-5-jiang-string-stringbuffer-stringbuilder-you-shi-yao-qu-bie-ff1f.md">第5讲 | String、StringBuffer、StringBuilder有什么区别？</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/LeeeYou/The-core-of-Java-36/blob/master/di-6-jiang-dong-tai-dai-li-shi-ji-yu-shi-yao-yuan-li-ff1f.md">第6讲 | 动态代理是基于什么原理？</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/LeeeYou/The-core-of-Java-36/blob/master/di-7-jiang-int-he-integer-you-shi-yao-qu-bie-ff1f.md">第7讲 | int和Integer有什么区别？</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/LeeeYou/The-core-of-Java-36/blob/master/di-8-jiang-dui-bi-vector-arraylist-linkedlist-you-he-qu-bie-ff1f.md">第8讲 | 对比Vector、ArrayList、LinkedList有何区别？</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/LeeeYou/The-core-of-Java-36/blob/master/di-9-jiang-dui-bi-hashtable-hashmap-treemap-you-shi-yao-bu-tong-ff1f.md">第9讲 | 对比Hashtable、HashMap、TreeMap有什么不同？</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/LeeeYou/The-core-of-Java-36/blob/master/di-10-jiang-ru-he-baozheng-ji-he-shi-xian-cheng-an-quan-76843f-concurrenthashmap-ru-he-shi-xian-gao-xiao-di-xian-cheng-an-quan-ff1f.md">第10讲 | 如何保证集合是线程安全的? ConcurrentHashMap如何实现高效地线程安全？</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/LeeeYou/The-core-of-Java-36/blob/master/di-11-jiang-java-ti-gong-le-na-xie-io-fang-shi-ff1f-nio-ru-he-shi-xian-duo-lu-fu-yong-ff1f.md">第11讲 | Java提供了哪些IO方式？ NIO如何实现多路复用？</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/LeeeYou/The-core-of-Java-36/blob/master/di-12-jiang-java-you-ji-zhong-wen-jian-kao-bei-fang-shi-ff1f-na-yi-zhong-zui-gao-xiao-ff1f.md">第12讲 | Java有几种文件拷贝方式？哪一种最高效？</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/LeeeYou/The-core-of-Java-36/blob/master/di-13-jiang-tan-tan-jie-kou-he-chou-xiang-lei-you-shi-yao-qu-bie-ff1f.md">第13讲 | 谈谈接口和抽象类有什么区别？</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/LeeeYou/The-core-of-Java-36/blob/master/di-14-jiang-tan-tan-ni-zhi-dao-de-she-ji-mo-shi-ff1f.md">第14讲 | 谈谈你知道的设计模式？</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/LeeeYou/The-core-of-Java-36/blob/master/di-15-jiang-synchronized-he-reentrantlock-you-shi-yao-qu-bie-ni-ff1f.md">第15讲 | synchronized和ReentrantLock有什么区别呢？</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/LeeeYou/The-core-of-Java-36/blob/master/zhou-mo-fu-li-tan-tan-wo-dui-java-xue-xi-he-mian-shi-de-kan-fa.md">周末福利 | 谈谈我对Java学习和面试的看法</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/LeeeYou/The-core-of-Java-36/blob/master/di-16-jiang-synchronized-di-ceng-ru-he-shi-xian-ff1f-shi-yao-shi-suo-de-sheng-ji-3001-jiang-ji-ff1f.md">第16讲 | synchronized底层如何实现？什么是锁的升级、降级？</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/LeeeYou/The-core-of-Java-36/blob/master/di-17-jiang-yi-ge-xian-cheng-liang-ci-diao-yong-start-fang-fa-hui-chu-xian-shi-yao-qing-kuang-ff1f.md">第17讲 | 一个线程两次调用start()方法会出现什么情况？</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/LeeeYou/The-core-of-Java-36/blob/master/di-18-jiang-shi-yao-qing-kuang-xia-java-cheng-xu-hui-chan-sheng-si-suo-ff1f-ru-he-ding-wei-3001-xiu-fu-ff1f.md">第18讲 | 什么情况下Java程序会产生死锁？如何定位、修复？</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/LeeeYou/The-core-of-Java-36/blob/master/di-19-jiang-java-bing-fa-bao-ti-gong-le-na-xie-bing-fa-gong-ju-lei-ff1f.md">第19讲 | Java并发包提供了哪些并发工具类？</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/LeeeYou/The-core-of-Java-36/blob/master/di-20-jiang-bing-fa-bao-zhong-de-concurrentlinkedqueue-he-linkedblockingqueue-you-shi-yao-qu-bie-ff1f.md">第20讲 | 并发包中的ConcurrentLinkedQueue和LinkedBlockingQueue有什么区别？</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/LeeeYou/The-core-of-Java-36/blob/master/di-21-jiang-java-bing-fa-lei-ku-ti-gong-de-xian-cheng-chi-you-na-ji-zhong-ff1f-fen-bie-you-shi-yao-te-dian-ff1f.md">第21讲 | Java并发类库提供的线程池有哪几种？ 分别有什么特点？</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/LeeeYou/The-core-of-Java-36/blob/master/di-22-jiang-atomicinteger-di-ceng-shi-xian-yuan-li-shi-shi-yao-ff1f-ru-he-zai-zi-ji-de-chan-pin-dai-ma-zhong-ying-yong-cas-cao-zuo-ff1f.md">第22讲 | AtomicInteger底层实现原理是什么？如何在自己的产品代码中应用CAS操作？</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/LeeeYou/The-core-of-Java-36/blob/master/di-23-jiang-qing-jie-shao-lei-jia-zai-guo-cheng-ff0c-shi-yao-shi-shuang-qin-wei-pai-mo-xing-ff1f.md">第23讲 | 请介绍类加载过程，什么是双亲委派模型？</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/LeeeYou/The-core-of-Java-36/blob/master/di-24-jiang-you-na-xie-fang-fa-ke-yi-zai-yun-xing-shi-dong-tai-sheng-cheng-yi-ge-java-lei-ff1f.md">第24讲 | 有哪些方法可以在运行时动态生成一个Java类？</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/LeeeYou/The-core-of-Java-36/blob/master/di-25-jiang-tan-tan-jvm-nei-cun-qu-yu-de-hua-fen-ff0c-na-xie-qu-yu-ke-neng-fa-sheng-outofmemoryerror.md">第25讲 | 谈谈JVM内存区域的划分，哪些区域可能发生OutOfMemoryError?</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/LeeeYou/The-core-of-Java-36/blob/master/di-26-jiang-ru-he-jian-kong-he-zhen-duan-jvm-dui-nei-he-dui-wai-nei-cun-shi-yong-ff1f.md">第26讲 | 如何监控和诊断JVM堆内和堆外内存使用？</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/LeeeYou/The-core-of-Java-36/blob/master/di-27-jiang-java-chang-jian-de-la-ji-shou-ji-qi-you-na-xie-ff1f.md">第27讲 | Java常见的垃圾收集器有哪些？</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/LeeeYou/The-core-of-Java-36/blob/master/di-28-jiang-tan-tan-ni-de-gc-diao-you-si-8def3f.md">第28讲 | 谈谈你的GC调优思路?</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/LeeeYou/The-core-of-Java-36/blob/master/di-29-jiang-java-nei-cun-mo-xing-zhong-de-happen-before-shi-shi-yao-ff1f.md">第29讲 | Java内存模型中的happen-before是什么？</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/LeeeYou/The-core-of-Java-36/blob/master/di-30-jiang-java-cheng-xu-yun-xing-zai-docker-deng-rong-qi-huan-jing-you-na-xie-xin-wen-ti-ff1f.md">第30讲 | Java程序运行在Docker等容器环境有哪些新问题？</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/LeeeYou/The-core-of-Java-36/blob/master/di-31-jiang-ni-le-jie-java-ying-yong-kai-fa-zhong-de-zhu-ru-gong-ji-ma-ff1f.md">第31讲 | 你了解Java应用开发中的注入攻击吗？</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/LeeeYou/The-core-of-Java-36/blob/master/di-32-jiang-ru-he-xie-chu-an-quan-de-java-dai-ma-ff1f.md">第32讲 | 如何写出安全的Java代码？</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/LeeeYou/The-core-of-Java-36/blob/master/di-33-jiang-hou-tai-fu-wu-chu-xian-ming-xian-201c-bian-man-201d-ff0c-tan-tan-ni-de-zhen-duan-si-lu-ff1f.md">第33讲 | 后台服务出现明显“变慢”，谈谈你的诊断思路？</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/LeeeYou/The-core-of-Java-36/blob/master/di-34-jiang-you-ren-shuo-201c-lambda-neng-rang-java-cheng-xu-man-30-bei-201d-ff0c-ni-zen-yao-kan-ff1f.md">第34讲 | 有人说“Lambda能让Java程序慢30倍”，你怎么看？</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/LeeeYou/The-core-of-Java-36/blob/master/di-35-jiang-jvm-you-hua-java-dai-ma-shi-du-zuo-le-shi-yao-ff1f.md">第35讲 | JVM优化Java代码时都做了什么？</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/LeeeYou/The-core-of-Java-36/blob/master/di-36-jiang-tan-tan-mysql-zhi-chi-de-shi-wu-ge-li-ji-bie-ff0c-yi-ji-bei-guan-suo-he-le-guan-suo-de-yuan-li-he-ying-yong-chang-jing-ff1f.md">第36讲 | 谈谈MySQL支持的事务隔离级别，以及悲观锁和乐观锁的原理和应用场景？</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/LeeeYou/The-core-of-Java-36/blob/master/di-37-jiang-tan-tan-spring-bean-de-sheng-ming-zhou-qi-he-zuo-yong-yu-ff1f.md">第37讲 | 谈谈Spring Bean的生命周期和作用域？</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/LeeeYou/The-core-of-Java-36/blob/master/di-38-jiang-duibi-java-biao-zhun-nio-lei-ku-ff0c-ni-zhi-dao-netty-shi-ru-he-shi-xian-geng-gao-xing-neng-de-ma-ff1f.md">第38讲 | 对比Java标准NIO类库，你知道Netty是如何实现更高性能的吗？</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/LeeeYou/The-core-of-Java-36/blob/master/di-39-jiang-tan-tan-chang-yong-de-fen-bu-shi-id-de-she-ji-fang-an-ff1f-snowflake-shi-fou-shou-dong-ling-shi-qie-huan-ying-xiang-ff1f.md">第39讲 | 谈谈常用的分布式ID的设计方案？Snowflake是否受冬令时切换影响？</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/LeeeYou/The-core-of-Java-36/blob/master/jie-shu-yu-ji-zhu-mei-you-zhong-dian.md">结束语 | 技术没有终点</a></li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://leeeyou.github.io/iBlogWebsite/2018/08/09/2018/2018-08-09-%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0%E4%B9%8B%E8%B4%A2%E5%8A%A1%E8%87%AA%E7%94%B1%E4%B9%8B%E8%B7%AF/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://avatars1.githubusercontent.com/u/6735624?s=460&v=4">
      <meta itemprop="name" content="Leeeyou">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Leeeyou123">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/iBlogWebsite/2018/08/09/2018/2018-08-09-%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0%E4%B9%8B%E8%B4%A2%E5%8A%A1%E8%87%AA%E7%94%B1%E4%B9%8B%E8%B7%AF/" class="post-title-link" itemprop="url">读书笔记之财务自由之路</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2018-08-09 00:00:00" itemprop="dateCreated datePublished" datetime="2018-08-09T00:00:00+08:00">2018-08-09</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2021-03-05 11:22:54" itemprop="dateModified" datetime="2021-03-05T11:22:54+08:00">2021-03-05</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/iBlogWebsite/categories/opinion/" itemprop="url" rel="index"><span itemprop="name">opinion</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p><img src="../../../../images/readingNotes/%E8%B4%A2%E5%8A%A1%E8%87%AA%E7%94%B1%E4%B9%8B%E8%B7%AF/%E8%B4%A2%E5%8A%A1%E8%87%AA%E7%94%B1%E4%B9%8B%E8%B7%AF.jpg" alt="财务自由之路.jpg"></p>
<p>“先完成财务保障，再实现财务安全，最后最后才 <strong>有点可能</strong> 实现财务自由。如若不遵循这一投资哲学，你将会处于危险之地，更别谈实现你的梦想了” , 这点对我而言可能是读这本书的最大收获了。</p>
<p><img src="../../../../images/readingNotes/%E8%B4%A2%E5%8A%A1%E8%87%AA%E7%94%B1%E4%B9%8B%E8%B7%AF/20180815135720.png" alt="20180815135720.png"></p>
<p>是的，正如上图展示的那样，只有当第一个水壶被住满水以后，你才能加注第二个水壶。你只能使用第二水壶盈余的部分（你不需要用来实现财务安全的金钱）来对第三个水壶进行加注。这样，你的财务安全就永远不会承担风险。而现在的我，解决财务保障可能是最最紧迫的事情了。</p>
<p>老实说，这本书的副标题 “7年内赚到你的第一个1000万” 有点夺眼球的噱头之意，鉴于作者的声望和MacTalk的推荐，读完以后，副标题带来的负面作用可以完全忽略不计。作者的一些思想或者说是一些行为准则，对我而言，有较大的启发；当然你也可以理解为鸡汤，但在我看来，确实值得干了它。比如作者系统的分析你的收入时，从能力、精力、影响力、自我评价和创意五个方面着手，并非空口说白话，而是给出具体某方面的指导和建议；再比如作者提到的责任、持续学习和成长、思维的转变这些无一不是当今竞争激烈的社会上，你我的立足之本。</p>
<p>我们真的可以想象下7年之后自己的财务状况，至少可以定下一个目标吧。达到财务安全线对我而言可能有点难度，但是你的思维方式铸就了你今天的样子，做出改变，持续不断地学习和成长，还是有很大机会搏一搏的，谁说不是呢？</p>
<h4 id="金句摘录"><a href="#金句摘录" class="headerlink" title="金句摘录"></a>金句摘录</h4><blockquote>
<p>1、如果你想获得不一样的结果，那你就必须有所行动：你必须改变自己的方式，首先需要改变的便是你的思维方式，你的思维方式铸了你今天的样子，这样的思维方式却并不能让你变成你想成为的样子。  </p>
</blockquote>
<blockquote>
<p>2、你的思维方式铸就了你今天的样子，这样的思维方式却并不能让你变成你想成为的样子，如果你想获得不一样的结果，那你就必须有所行动：你必须改变自己的方式，首先需要改变的便是你的思维方式。</p>
</blockquote>
<blockquote>
<p>3、不管你相不相信，金钱确实改变了我生活中的许多东西，金钱不会解决你的所有问题，它也绝不是万能的，但是，缺钱却能使你的幸福蒙上一层阴影，有了金钱，你在处理问题的时候便能尝试许多方式，而且，你也将会有机会结识更多的人，参观风景优美的地方，得到更加有趣的工作，获得更多的自信，赢得更多的赞赏，获得更多的机会。 </p>
</blockquote>
<blockquote>
<p>4、我们想要自己掌控将来事态的发展，还是让我们的错误及其后果掌握将来的事态？如果我们在事件发生时勇于承担责任，那么所有的负面情绪在这一刻都会失去掌控力。  </p>
</blockquote>
<blockquote>
<p>5、只有你（绝非任何人）能对你7年内收获多少金钱负责，首先离开你的舒适环境；其次将困难当做成长的机会，并且问自己：我如何创造一种情况，是这个问题不再出现？接着提出正确的问题；最后扩展你的个人范畴，同时你的可控领域也得到了拓展，这世上有一些事你无能为力，但你可以决定，你打算如何判断以及如何对此作出反应，在这方面，你一直都是拥有权利的。  </p>
</blockquote>
<blockquote>
<p>6、责任意味着：没有任何东西能改变你的态度或品格，因为你是按照自己的本性对事情做出反应，你可以决定自己以哪种方式去生活，这种态度是你能够生活幸福，并且成为最好的自己，如果你勇于承担责任，那么你就能在7年内变得富有。  </p>
</blockquote>
<blockquote>
<p>7、随着年龄的增长，你只会对自己没有做过的事情感到后悔。  </p>
</blockquote>
<blockquote>
<p>8、引发奇迹的4个法则，被我统称为持续不断地学习和成长，对我来说，持续不断地学习和成长已经成为我的人生信条，当我们不再成长，我们就与死亡无异了，成长就是生命，持续不断地学习和成长意味着，感受到自身源源不断的活力，也意味着你能成为最好的自己。  </p>
</blockquote>
<blockquote>
<p>9、我们的自信心决定了我们是否敢于冒险，不去冒险便不可能获得成长。  </p>
</blockquote>
<blockquote>
<p>10、大多数人高估了自己1年内能做到的事情，也低估了自己10年内能做到的事情。  </p>
</blockquote>
<blockquote>
<p>11、我们不应该以他人来衡量自己，而应该与自己做纵向对比。  </p>
</blockquote>
<blockquote>
<p>12、我们常常忘记，顺着我们目前为止走过的道路继续前行，同样有风险，这条路给我们一种熟悉感，但也不会更安全，生活就是一场比赛，不去冒险的人不可能获得成功，立即采取行动！因为你永远不能为成功做好完美的准备。</p>
</blockquote>
<blockquote>
<p>13、世上唯一从来不犯错的人，是从来不做任何事的人。  </p>
</blockquote>
<blockquote>
<p>14、我们倾向于将自己无法理解的事物视为奇迹或好运，然而你也看到了，奇迹是可以创造的，就连好运也是多年准备的结果，最终还是在于我们的态度，态度决定我们是否将无法解释的奇迹定义为一种超自然的现象，决定我们是否将坏运气当作理由，答案如果是肯定的话，那么你就不再负有责任，你的坏运气也会成为一个很好的借口，然而，如果你主动承担责任，那么你的好运气就是可以期待的，每个人都会得到属于自己的机会，根本问题是：我们是否愿意对所有事情（包括奇迹和好运）承担责任？如果愿意承担责任，你将为自己创造的奇迹感到惊讶，如果拒绝承担责任，你就会声称“坏运气已经发生了”（但谁又能与之对抗呢），如果勇敢地承担责任，那么好运气就在你的安排计划之中。  </p>
</blockquote>
<blockquote>
<p>15、知足常乐的人也是主动放弃的人，我们拥有什么样的期望，也就决定了我们能获得什么，渴望从生活中获取许多东西的人，生活会给予更多的回报，乔纳森.斯威夫特曾经说过一句讽刺的话：“不期望任何事的人是有福之人，因为他也不会失望”。  </p>
</blockquote>
<blockquote>
<p>16、永远不让目标低于期望，永远不要劝自己说：你不“值得”拥有，你自己是可以决定你值得拥有什么的，你的期望决定你会获得什么，灯光下有你的一席之地。  </p>
</blockquote>
<blockquote>
<p>17、永远不要用短期解决方案来应对长期问题。  </p>
</blockquote>
<blockquote>
<p>18、每个人获得的东西都恰好是他值得获得的东西，虽然我总听到有人抱怨：“我远比我现在获得的东西有价值的多” 但这是错误的，正确的说法应该是：如果你“值得”更多，那么你早该获得了。  </p>
</blockquote>
<blockquote>
<p>19、你必须了解市场法则，你收入的高低取决于此，你今天的收入就是你昨天所做之决定的结果，如果不理解这一点，你就不能说：“现在我要另做选择” 作为自己人生的设计师，你的收入或加薪是由你自己创造的，不是你被加薪，而是你主动获得加薪，如果别人能够决定你的收入高低，那么他们也就拥有了操纵你人生的权利，你（也只有你）能增加自己的收入，你个人对此负责，你个人就可以做出决定。  </p>
</blockquote>
<blockquote>
<p>20、金钱和机遇并不会应需求而产生，而是应能力而产生，你不会因为自己需要更多金钱而获得加薪，你只会因为你所拥有的能力而获得加薪。  </p>
</blockquote>
<blockquote>
<p>21、永远不要将你对自己的怀疑告知任何人，要展示自己的强项，人们不会追随一个自我怀疑的人，只会追随那些坚强不屈的、对目标坚定不移的人，你的强项往往会为你挣得更多的报酬。  </p>
</blockquote>
<blockquote>
<p>22、如果说世上存在成功之终极秘密，那就是刻不容缓地去处理日常事务的能力，为自己确定一条指导原则：尽可能快地着手去做，不要害怕犯错误，IBM创始人说过：“在我的公司里，想要出成绩，就必须犯下双倍的错误” 犯错使人积累经验，经验帮助你快速做出正确决策。  </p>
</blockquote>
<blockquote>
<p>23、如果想让事物想着利于你的方向发展，那么首先你自己必须变得更好。  </p>
</blockquote>
<blockquote>
<p>24、如何分析你的收入之能力：你在自己的专业领域是一个什么水平？你有没有将自己定位为专家？你了解自己的专业领域吗？你是否已为自己建立起能提升你知识和能力的导师及专家团队？你在个人专业领域之外是否还继续深造？你的个人能力是否和你的专业技能共同成长？你了解成功的法则吗，是否运用了成功的法则？你具备领导资质吗？同你所在领域的优秀人士相比，你的能力如何？  </p>
</blockquote>
<blockquote>
<p>25、如何分析你的收入之精力：你准备将多少精力投入专业技能的提升中去？你实际投入了多少精力？你还有多少能量？你能否将精力集中起来，全身心做某件事情？对于你现在所做的事情，你的热情和激情有多大？你热爱你的工作吗？从长远来看，你在将来需要更多的精力，你是否任然为自己的健康、运动、家庭和持续学习以及成长而投入时间？  </p>
</blockquote>
<blockquote>
<p>26、如何分析你的收入之影响力/知名度：你是否知道这是你的收入板块中最重要的版块？影响力是最强大的乘数，你的产品/你的服务受众面有多广？知识、技术、产品在当今社会比比皆是，你能否利用你的产品挣到钱，取决于有多少人知道。  </p>
</blockquote>
<blockquote>
<p>27、如何分析你的收入之自我评价：你是否知道感知即现实？你推销自己的技巧如何？你对自己的举止有多自信？你的自信有多强？你是否认为自己出类拔萃、鹤立鸡群？你是否能很好地表现自己？别人是否认为你是一名专家？是否有人因为你优秀而愿意无偿地为你服务？别人是否认为认识你是莫大的荣幸？你能准确定位自己吗？  </p>
</blockquote>
<blockquote>
<p>28、如何分析你的收入之创意：你具有创造力吗？你是否易于接受新事物？你是否坚持自己的目标，同时准备不断尝试实现目标的新方法？你是否灵活变通？你会把自己的灵感马上写下来吗？你相信自己的灵感并付诸实施吗？你个人的创意工厂发展壮大了吗？你是否不断问自己，“这个创意如何才能切和我的情况”，“我如何才能快速采取行动”，你相信每一个你需要的信息和解决方法，都可以被找出来？你相信要得到这些信息，你就必须不断发展新的创意吗？  </p>
</blockquote>
<blockquote>
<p>29、你的收入水平很大程度上取决于你能做那些别人不能做的事情，“尽快”这条法则同样适用于此，不要等到自己能力足够了才去做，尽快放权，放权那些别人都能做的事情，把空出来的时间集中用于收入丰厚的活动上，放权其他无用的事情，将时间用来定位自己，在同等时间内，只要你挣到的钱别付给助你做事的人要多，账单就永远不会来烦你。  </p>
</blockquote>
<blockquote>
<p>30、借口是我们讲给自己听的谎言，我们应该自己对自己越来越诚实，承担越来越多的责任，许多人声称:“我没有时间去学习正确的投资方法” 是这样吗?这是真的吗?或者说这些人还可以对自己更诚实吗？“我还没有准备好为此投入更多的时间”，这样说会不会显得更诚实? 一位真正的人物不会将生活中的机会滥用在道歉和寻找借口上，借口使我们贫穷。  </p>
</blockquote>
<blockquote>
<p>31、我们能否实现财务自由，对此起决定性作用的是，我们听从的是两个声音中的哪一个：受害者的声音还是勇于承担责任者的声音，永远不要让你内心中那个弱小的人战胜强大的那个人。  </p>
</blockquote>
<blockquote>
<p>32、即使一直以来都没有什么意外发生，你还是应该坚持，因为有了这笔储备金，你才拥有安全感，安全感是每个人都需要的，当你面临困境时，有支持你的后盾，你才可以更好地解决困难，财务保障便是我们所说的后盾，没人能保证自己在意外和不幸来临时不受伤害，但是我们可以未雨绸缪，让我们在意外发生时，能够从容面对，如果意外来临时，我们还要面临财务危机，或者是因为财务问题而妥协，那才是真正的不幸。  </p>
</blockquote>
<blockquote>
<p>33、财务保障是短期目标：这应当是你下一个目标，一个必须尽快完成的目标。  </p>
</blockquote>
<blockquote>
<p>34、为你的强项找一位教练，为你的弱项找一个解决方案。  </p>
</blockquote>
<blockquote>
<p>35、开始阶段简单的事情以后会变得困难，开始阶段困难的事情以后也会变得简单、储蓄并不难，但由于这对你而言是一项全新的开始，所以在开始阶段你应该会感到十分陌生，用储蓄明智地投资不是一件易事，但你会觉得相对简单，因为有很多容易上手的投资形式，因为你有投资顾问、内行的朋友和其他可供参考的例子。  </p>
</blockquote>
<blockquote>
<p>36、第一项计划财务保障能给你带来很多的益处你可以安全地渡过一次危机，你会感到有安全感，可以时刻准备好面对一些未知的意外，但是财务保障有一个很大的缺点一旦意外情况发生，你会花光所有的积蓄，虽然你在财务上安然无恙地渡过了一次危机，但是你的积蓄都没了，真正保险的办法是，你需要积累足够的资金，使你可以靠利息生活。  </p>
</blockquote>
<blockquote>
<p>37、7年后，你要么就根本没有改变你的财务状况，要么就至少部分实现了你的财务安全，7年之后开始的未来，正是你今天所准备的未来，有的人不去从事自己感兴趣的职业，主要原因就是缺钱，这令人感到惋惜，也是一种才能的浪费，这之所以尤其可悲，是因为我们只有在做自己喜爱的事情时才会真正感到幸福，一个从来没有长期做过使自己快乐的有意义的事情的人，从来不会知道，自身究竟蕴藏着多少潜力，如果有人无法走出关键性的一步，不能做自己感兴趣的工作，那么原因往往都在于金钱。  </p>
</blockquote>
<blockquote>
<p>38、在你做出明确的决定之前，请不要继续读下去，这个决定应该包含你实际做的你所了解的必要之事，你知道，你首先必须着手改变信仰，你必须将巨大的痛苦与目标无法实现联系在一起，将巨大的快乐与目标得以实现联系在一起，你应该意识到为什么你一定要这样生活，记住你必须每天提升自己，全力以赴，你必须不断地学习和成长，你必须付出110%的努力，你必须全力以赴，成为最好的自己。你真的想要这样吗?你真的愿意为了财富和幸福去付出每个人都必须付出的代价吗?如果你决定好了这样做(我也想鼓励你这样做)，你就负有责任了你应该向自己承诺，不到最好，永不满足。多年前，第一次听到这一理念时，我几乎不敢相信，但它确确实实是正确的，当你为自己定好一个目标，制订出书面的计划，你就已经成功50%了，以下也有4个足以证明这一点的重要原因：目标拓宽你的机会意识，目标为你指出解决问题的方向，目标是你为了“赢”而去比赛，你有了一个目标，一切都变得很重要。  </p>
</blockquote>
<blockquote>
<p>39、他人可以短暂地阻止你，但只有你自己才可以永远地使自己停下来。  </p>
</blockquote>
<blockquote>
<p>40、你自己决定受谁影响、向谁学习、学习什么：只模仿那些比你成功的人。  </p>
</blockquote>
<blockquote>
<p>41、成功意味着获得你所爱的东西，而幸福意味着享受你获得的东西。  </p>
</blockquote>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://leeeyou.github.io/iBlogWebsite/2018/04/18/2018/2018-04-18-%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0%E4%B9%8B%E5%9C%A8%E8%80%B6%E9%B2%81%E7%B2%BE%E8%BF%9B/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://avatars1.githubusercontent.com/u/6735624?s=460&v=4">
      <meta itemprop="name" content="Leeeyou">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Leeeyou123">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/iBlogWebsite/2018/04/18/2018/2018-04-18-%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0%E4%B9%8B%E5%9C%A8%E8%80%B6%E9%B2%81%E7%B2%BE%E8%BF%9B/" class="post-title-link" itemprop="url">读书笔记之在耶鲁精进</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2018-04-18 00:00:00" itemprop="dateCreated datePublished" datetime="2018-04-18T00:00:00+08:00">2018-04-18</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2021-03-05 11:22:54" itemprop="dateModified" datetime="2021-03-05T11:22:54+08:00">2021-03-05</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/iBlogWebsite/categories/opinion/" itemprop="url" rel="index"><span itemprop="name">opinion</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p><img src="../../../../images/readingNotes/%E5%9C%A8%E8%80%B6%E9%B2%81%E7%B2%BE%E8%BF%9B/%E5%9C%A8%E8%80%B6%E9%B2%81%E7%B2%BE%E8%BF%9B.jpg" alt="在耶鲁精进.jpg"></p>
<p>对于我来说，这是一本信息量巨大的书。</p>
<p>我先试着整理出每个章节的摘录，然后找出关键词，再选择其中的某几个来展开，发现还有10多个，一时不知如何下笔。罢了，既然无从下笔，就写写最想说的吧。</p>
<p>首先是精进这个词，记得在罗振宇时间的朋友跨年晚会上也提过，大意是只有不停的迭代自己，成功的概率才能不断提高。这个惟一靠谱的人生策略，希望自己能铭记，不断的学习、总结、迭代、精进。</p>
<p>其次是通识教育，说实话之前一直没有通识教育的概念，以前在校读书是为了读而读，也没读出个什么花样来。知识结构过于片面，更不用谈触类旁通的智慧了。两年前自己有整理过专业方面的知识架构，目前也一直在完善它；但是通识这块可以说毫无准备，毫无积累，这可不是件好事。通识体系大致包括：文学、数学、科学、经济学、哲学、心理学等，多去了解，扩展自己的涉猎广度何乐而不为。</p>
<p>最后我想说说关于孩子的问题，吴军老师在如何给孩子最好的教育分享会中，讲到“如果有起跑线的话，父母的见识、格局，是孩子的第一起跑线”，父母是孩子的第一任老师，那么上面我们讲到的精进、迭代又或者是扩展自己的通识储备是不是等于在提高将来孩子的第一起跑线呢？此外，还有两点令我影响深刻，①小时候严格要求，长大尊重个人选择。顺序千万别反了。“你是愿意孩子小时候没有多少空间长大后有很多空间呢，还是小时候很多空间长大后没有空间？”什么使人幸福？有选择才有幸福。②让孩子知道生活不易，人生的错误要尽量犯在前面，犯在后面的错误你无法承受，少年则是最好的犯错时期，这时犯错的收益/风险比高到惊人，不犯错简直是虚度人生。将这种思想输送到孩子，不比什么十八线教育培训机构层次高太多？所以我特别特别认同“父母的见识、格局，是孩子的第一起跑线”。</p>
<p>为了利于重复翻阅，还是将摘录做成图片插入在下面:<br><img src="../../../../images/readingNotes/%E5%9C%A8%E8%80%B6%E9%B2%81%E7%B2%BE%E8%BF%9B/%E5%BA%8F%E8%A8%80.png" alt="序言"></p>
<p><img src="../../../../images/readingNotes/%E5%9C%A8%E8%80%B6%E9%B2%81%E7%B2%BE%E8%BF%9B/%E8%80%B6%E9%B2%81%E6%95%85%E4%BA%8B.png" alt="耶鲁故事"></p>
<p><img src="../../../../images/readingNotes/%E5%9C%A8%E8%80%B6%E9%B2%81%E7%B2%BE%E8%BF%9B/%E6%9E%81%E7%AE%80%E9%87%91%E8%9E%8D%E8%AF%BE.png" alt="极简金融课"></p>
<p><img src="../../../../images/readingNotes/%E5%9C%A8%E8%80%B6%E9%B2%81%E7%B2%BE%E8%BF%9B/%E6%9E%81%E7%AE%80%E8%B0%88%E5%88%A4%E8%AF%BE.png" alt="极简谈判课"></p>
<p><img src="../../../../images/readingNotes/%E5%9C%A8%E8%80%B6%E9%B2%81%E7%B2%BE%E8%BF%9B/%E5%9C%A8%E7%BE%8E%E5%9B%BD%E7%9C%8B%E7%BE%8E%E5%9B%BD.png" alt="在美国看美国"></p>
<p><img src="../../../../images/readingNotes/%E5%9C%A8%E8%80%B6%E9%B2%81%E7%B2%BE%E8%BF%9B/%E5%A4%A7%E5%AD%A6.%E9%97%AE.%E7%AD%94%E7%BD%91%E5%8F%8B.png" alt="大学.问.答网友"></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://leeeyou.github.io/iBlogWebsite/2018/04/11/2018/2018-04-11-%E7%AE%97%E6%B3%95%E4%B9%8B%E5%A4%8D%E6%9D%82%E5%BA%A6%E5%88%86%E6%9E%90/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://avatars1.githubusercontent.com/u/6735624?s=460&v=4">
      <meta itemprop="name" content="Leeeyou">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Leeeyou123">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/iBlogWebsite/2018/04/11/2018/2018-04-11-%E7%AE%97%E6%B3%95%E4%B9%8B%E5%A4%8D%E6%9D%82%E5%BA%A6%E5%88%86%E6%9E%90/" class="post-title-link" itemprop="url">算法之复杂度分析</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2018-04-11 00:00:00" itemprop="dateCreated datePublished" datetime="2018-04-11T00:00:00+08:00">2018-04-11</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2021-03-05 11:22:54" itemprop="dateModified" datetime="2021-03-05T11:22:54+08:00">2021-03-05</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/iBlogWebsite/categories/code/" itemprop="url" rel="index"><span itemprop="name">code</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>对于算法的复杂度，一直是懵懂状态。索性这次将这段时间听到看到的一些内容整理出来，以求准确清晰的理解它。</p>
<p>听吴军老师的音频，才了解在计算机发展初期，对于算法好坏的评判标准科学家也是不清楚的，1965年哈特马尼斯（Juris Hartmanis）和斯坦恩斯（Richard Stearns）提出了算法复杂度的概念（二人后来因此获得了图灵奖），计算机科学家们开始考虑一个公平的、一致的评判算法好坏的方法。不过，最早将复杂度严格量化衡量的是著名计算机科学家、算法分析之父 <strong>高德纳（Don Knuth）</strong> 。今天全世界计算机领域都以高德纳的思想为准。</p>
<p>高德纳的思想主要包括这三个部分：</p>
<ol>
<li><p>在比较算法的快慢时，需要考虑数据量特别特别大，大到近乎无穷大时的情况。为什么要比大数的情况，而不比小数的情况呢？因为计算机的发明就是为了处理大量数据的，而且数据越处理越多。</p>
</li>
<li><p>决定算法快慢的因素虽然可能很多，但是所有的因素都可以被分为两类。第一类是不随数据量变化的因素，第二类是随着数量变化的。</p>
<ul>
<li><p>比如说，有一种大小排序的算法，它的运算次数是10倍的N平方，其中N是要排序的数字的数量。前面的那个10倍是个常数，和N的大小显然没有关系，10个数排序是如此，一亿个数排序时也是如此。而后面的N平方自然和N有关系了。高德纳讲，我们在研究算法时，不必考虑前面那个不变的常数，它是10倍，还是1倍，或者是100倍，只需要看后面那个变化的因素即可。</p>
</li>
<li><p>因为N这个数趋近于无穷大时，前面那个不变的常数的影响是微乎其微的，算法的速度主要由后面一个因素决定。比如，当N＝10的时候，N平方就是100；N＝100，N平方就是1万；N＝1万，N平方就是一亿……总之，N平方这个因子的变化非常快。更广泛地讲，任何随着N变化的因素，通常会造成量级的差异。量级就如同芝麻和西瓜的差异，西瓜和地球的差异。100个芝麻是无法和一个西瓜去对比的。</p>
</li>
</ul>
</li>
<li><p>如果两种算法 <strong>在量级上相当</strong> ，在计算机科学里，就认为它们是一样好的，也就是计算机科学家并不关心三五倍的差别，这就好比1粒芝麻和5粒芝麻都是芝麻量级的东西，大家就不要比了。只有当科学家们不关心几倍的差异后，才可能集中精力考虑量级的差异。也就是说，计算机科学家要尽可能地去捡西瓜。事实上在计算机科学领域，如果谁说自己把目前最好的算法速度提升了一倍，这种论文是无法发表的。</p>
</li>
</ol>
<p>在了解了高德纳提出的思想后，对于算法复杂度关心的点以及评判标准才有了“最正宗”的理解。关心的是大量数据的问题，排除掉不变的因素，且只关注量级的差别，这其实是一个理想的环境，这种假设是非常有意义的。吴军老师说“回顾下科学发展的历史，那些能总结出理论的人要做的第一件事，就是多虑掉所有次要的因素，构建一个理想的环境（或者虚拟的环境），其目的是找到真正的主要矛盾，先把主要问题解决了再说。这些人的思维方式，比普通人是高出一大截的。我们都同意艺术上要有想象力，其实在科学上也是如此，抽象的想象力很重要。”</p>
<p>在有了上面这段内容作为基础后，下面对时间复杂度和空间复杂度的讲述会简单很多。</p>
<h1 id="1-时间复杂度"><a href="#1-时间复杂度" class="headerlink" title="1. 时间复杂度"></a>1. 时间复杂度</h1><p>一句话描述就是：<strong>一个算法在问题规模不断增大时对应的时间增长曲线。</strong><br>看完下面这两张图，你大概能理解问题规模的增大以及时间增长曲线之间的关系。<br><img src="../../../../images/githubpages/time_complexity/time_complexity_summary.jpg" alt="time_complexity_summary"></p>
<p><img src="../../../../images/githubpages/time_complexity/time_complexity_problem_size.jpg" alt="time_complexity_problem_size"></p>
<p>从第二张图可以直观的反应出指数、立方和平方级别同线性对数级别的时间增长曲线不在一个量级上。所以你在写代码时，到底选择怎样的时间曲线增长量级是不是有底了？这里其实也印证了高德纳思想的第1和第3点，那第2点排除掉不变的因素怎么理解，这需要用到数学公式了。</p>
<p>在数学上定义： 存在常数 c，使得当 N &gt;= c 时 T(N) &lt;= f(N)，表示为 T(n) = O(f(n)) 。<br>算法需要执行的运算次数 用输入大小n的函数表示，即 T(n)。如下图示：<br><img src="../../../../images/githubpages/time_complexity/time_complexity_math.jpg" alt="time_complexity_math"></p>
<p>当 N &gt;= 2 的时候，f(n) = n^2 总是大于 T(n) = n + 2 的，于是我们说 f(n) 的增长速度是大于或者等于 T(n) 的，也说 f(n) 是 T(n) 的上界，可以表示为 T(n) = O(f(n))。</p>
<p>因为f(n) 的增长速度是大于或者等于 T(n) 的，即T(n) = O(f(n))，所以我们可以用 f(n) 的增长速度来度量 T(n) 的增长速度，所以我们说这个算法的时间复杂度是 O(f(n))。其实就是我们通常所说的大O推倒法，几条重要的准则如下：<br>1.用常数1来取代运行时间中所有加法常数。<br>2.修改后的运行次数函数中，只保留最高阶项。<br>3.如果最高阶项存在且不是1，则去除与这个项相乘的常数。  </p>
<p>至此，时间复杂度讲述完毕，没有复杂的描述，利用几张图和一个数学公式推倒就能理解好。另外还需要掌握时间复杂度分析的基本策略：<strong>从内向外分析，从最深层开始分析。如果遇到函数调用，要深入函数进行分析。</strong></p>
<h1 id="2-空间复杂度"><a href="#2-空间复杂度" class="headerlink" title="2. 空间复杂度"></a>2. 空间复杂度</h1><p>空间复杂度讨论的是<strong>算法所需要的辅助存储空间</strong>，其中输入数据所占用的具体空间取决于问题本身, 与算法无关。记作：<br>S(n) = O(f(n))</p>
<p>若算法执行时间时所需要的辅助空间相对于输入数据量而言是一个常数，则称这个算法为原地工作， 辅助空间为O(1)。</p>
<p>将一维数组a中的n个数据逆序存放到原数组中, 下面是两种算法:</p>
<p>[算法1]<br>S(n) = O(n)  </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; n; i++)    b[i] = a[n - i - <span class="number">1</span>];   <span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; n; i++)    a[i] = b[i]  </span><br></pre></td></tr></table></figure>

<p>[算法2]<br>S(n) = O(1)  </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>; i &lt; n/<span class="number">2</span>; i++)&#123;    t = a[i];    a[i] = a[n - i - <span class="number">1</span>];    a[n - i - <span class="number">1</span>] = t;   &#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>算法1的空间复杂度为O(n), 需要一个大小为n的辅助数组b</li>
<li>算法2的空间复杂度为O(1), 仅需要一个变量t, 与问题规模n无关</li>
</ul>
<p>算法的空间复杂度与时间复杂度合称为算法的复杂度。面对不同的算法如何选择主要就从这两个方面去考虑，理想情况是一个算法的时间与空间复杂度都小，但这是很难做到的，面对不同的情况要具体问题具体分析: 是以时间换空间, 还是以空间换时间。</p>
<p>参考：</p>
<ol>
<li><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/f4cca5ce055a">(数据结构）十分钟从零搞定时间复杂度（计算算法的时间复杂度)</a>  </li>
<li><a target="_blank" rel="noopener" href="https://www.zhihu.com/question/21387264">如何理解算法时间复杂度的表示法O(n²)、O(n)、O(1)、O(nlogn)等？</a></li>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/itachi85/article/details/54882603"> 算法（一）时间复杂度</a>  </li>
<li><a target="_blank" rel="noopener" href="https://ghui.me/post/2016/08/algorithm_performance/">算法的性能分析</a>  </li>
<li><a href="https://leeeyou.github.io/2016/02/01/blog-2016-02-01-%E7%AE%97%E6%B3%95%E4%B9%8B%E5%9F%BA%E6%9C%AC%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/">算法之基本排序算法</a>  </li>
</ol>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://leeeyou.github.io/iBlogWebsite/2018/02/27/2018/2018-02-27-%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0%E4%B9%8BAndroid%E7%BE%A4%E8%8B%B1%E4%BC%A0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://avatars1.githubusercontent.com/u/6735624?s=460&v=4">
      <meta itemprop="name" content="Leeeyou">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Leeeyou123">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/iBlogWebsite/2018/02/27/2018/2018-02-27-%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0%E4%B9%8BAndroid%E7%BE%A4%E8%8B%B1%E4%BC%A0/" class="post-title-link" itemprop="url">读书笔记之Android群英传</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2018-02-27 00:00:00" itemprop="dateCreated datePublished" datetime="2018-02-27T00:00:00+08:00">2018-02-27</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2021-03-05 11:22:54" itemprop="dateModified" datetime="2021-03-05T11:22:54+08:00">2021-03-05</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/iBlogWebsite/categories/opinion/" itemprop="url" rel="index"><span itemprop="name">opinion</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p><img src="../../../../images/readingNotes/Android%E7%BE%A4%E8%8B%B1%E4%BC%A0/Android%E7%BE%A4%E8%8B%B1%E4%BC%A0.jpg" alt="Android群英传"></p>
<p>1、怎样区别Dalvik与ART的异同？<br>2、怎样理解Android UI界面架构图？<br>3、怎样理解requestWindowFeature的设置时机？<br>4、怎样理解当创建一个Canvas对象时，要传入一个bitmap对象？<br>5、怎样做好UI模板？<br>6、怎样理解getScrollX()和getScrollY()?<br>7、怎样自定义一个简单的scrollView和viewPager，理清思路？<br>8、怎样理解事件拦截中的时间传递和事件处理？<br>9、怎样设置ListView为空时的样式？<br>10、怎样判断ListView是否滚到最后一行？<br>11、怎样判断ListView的滚动方向？<br>12、怎样获取ActionBar的高度？<br>13、怎样理解Android坐标系中的各种方法？<br>14、怎样使用MarginLayoutParams?<br>15、怎样理解scrollTo和scrollBy参数正负值的含义？<br>16、怎样理解canvas的4个方法？<br>17、怎样理解颜色矩阵？<br>18、怎样理解图形变换矩阵？<br>19、怎样实现自定义刮刮乐效果？<br>20、怎样理解SurfaceView和View的异同和使用场景？<br>21、怎样绘制正弦曲线？<br>22、怎么理解Android任务栈？<br>23、怎样实现在真机上检测布局层级？  </p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://leeeyou.github.io/iBlogWebsite/2018/02/26/2018/2018-02-06-%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0%E4%B9%8B%E5%9B%BE%E8%A7%A3HTTP/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://avatars1.githubusercontent.com/u/6735624?s=460&v=4">
      <meta itemprop="name" content="Leeeyou">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Leeeyou123">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/iBlogWebsite/2018/02/26/2018/2018-02-06-%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0%E4%B9%8B%E5%9B%BE%E8%A7%A3HTTP/" class="post-title-link" itemprop="url">读书笔记之图解HTTP</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2018-02-26 00:00:00" itemprop="dateCreated datePublished" datetime="2018-02-26T00:00:00+08:00">2018-02-26</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2021-03-05 11:22:54" itemprop="dateModified" datetime="2021-03-05T11:22:54+08:00">2021-03-05</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/iBlogWebsite/categories/opinion/" itemprop="url" rel="index"><span itemprop="name">opinion</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p><img src="../../../../images/readingNotes/%E5%9B%BE%E8%A7%A3HTTP/%E5%9B%BE%E8%A7%A3HTTP.jpg" alt="图解HTTP"></p>
<p>大概去年5月份的时候，从同事桌上看到这本书，随手一翻觉得里面的插图很有意思，留下了深刻的印象。这几天花了几个小时的时间看完之后，收获颇多。总得来说，这是一本偏基础的书，阅读起来没什么困难，对我而言，主要是理顺了一些之前模棱两可的概念。<br>TCP/IP协议族按层次分别是：应用层、传输层、网络层和数据链路层。层次化之后，设计也变得相对简单了。处于应用层上的应用可以只考虑分派给自己的任务，而不需要弄清对方在地球上哪个地方、对方的传输路线是怎样的、是否能确保传输送达等问题。简单来说就是职责单一化了，可以只关心自己应该关心的内容。</p>
<p>应用层：应用层决定了向用户提供应用服务时通信的活动。<br>TCP/IP协议族内预存了各类通用的应用服务。比如，FTP（File Transfer Protocol，文件传输协议）和DNS（Domain Name System，域名系统）服务就是其中两类。HTTP协议也处于该层。</p>
<p>传输层：传输层对上层应用层，提供处于网络连接中的两台计算机之间的数据传输。在传输层有两个性质不同的协议：TCP（Transmission Control Protocol，传输控制协议）和UDP（User Data Protocol，用户数据报协议）。</p>
<p>网络层：网络层用来处理在网络上流动的数据包。数据包是网络传输的最小数据单位。该层规定了通过怎样的路径（所谓的传输路线）到达对方计算机，并把数据包传送给对方。与对方计算机之间通过多台计算机或网络设备进行传输时，网络层所起的作用就是在众多的选项内选择一条传输路线。</p>
<p>链路层：用来处理连接网络的硬件部分。包括控制操作系统、硬件的设备驱动、NIC（Network Interface Card，网络适配器，即网卡），及光纤等物理可见部分（还包括连接器等一切传输媒介）。硬件上的范畴均在链路层的作用范围之内。</p>
<p>经过作者的讲述后，对四层的职责，分别干了些什么是不是有了很明确的了解。反正经过这段文字之后，我是有种顿悟的感觉。</p>
<p>当输入一个网址后接着发生了什么？这段描述或许会给你一个清晰的认知流程：“利用TCP/IP协议族进行网络通信时，会通过分层顺序与对方进行通信。发送端从应用层往下走，接收端则往应用层往上走。我们用HTTP举例来说明，首先作为发送端的客户端在应用层（HTTP协议）发出一个想看某个Web页面的HTTP请求。接着，为了传输方便，在传输层（TCP协议）把从应用层处收到的数据（HTTP请求报文）进行分割，并在各个报文上打上标记序号及端口号后转发给网络层。在网络层（IP协议），增加作为通信目的地的MAC地址后转发给链路层。这样一来，发往网络的通信请求就准备齐全了。接收端的服务器在链路层接收到数据，按序往上层发送，一直到应用层。当传输到应用层，才能算真正接收到由客户端发送过来的HTTP请求。发送端在层与层之间传输数据时，每经过一层时必定会被打上一个该层所属的首部信息。反之，接收端在层与层传输数据时，每经过一层时会把对应的首部消去。 ”下面图示更能清晰明了说明问题：</p>
<p><img src="../../../../images/readingNotes/%E5%9B%BE%E8%A7%A3HTTP/%E5%9B%BE%E8%A7%A3HTTP1.jpg" alt="getScrollX"></p>
<p>在HTTP协议中，状态码的职责是当客户端向服务器端发送请求时，描述返回的请求结果。借助状态码，用户可以知道服务器端是正常处理了请求，还是出现了错误。数字中的第一位指定了响应类别，详细如下图所示：</p>
<p><img src="../../../../images/readingNotes/%E5%9B%BE%E8%A7%A3HTTP/%E5%9B%BE%E8%A7%A3HTTP2.jpg" alt="getScrollX"></p>
<p>HTTP首部字段大致分为四类：通用首部字段，请求首部字段，响应首部字段，实体首部字段。<br><img src="../../../../images/readingNotes/%E5%9B%BE%E8%A7%A3HTTP/%E5%9B%BE%E8%A7%A3HTTP3.jpg" alt="getScrollX"><br><img src="../../../../images/readingNotes/%E5%9B%BE%E8%A7%A3HTTP/%E5%9B%BE%E8%A7%A3HTTP4.jpg" alt="getScrollX"><br><img src="../../../../images/readingNotes/%E5%9B%BE%E8%A7%A3HTTP/%E5%9B%BE%E8%A7%A3HTTP5.jpg" alt="getScrollX"><br><img src="../../../../images/readingNotes/%E5%9B%BE%E8%A7%A3HTTP/%E5%9B%BE%E8%A7%A3HTTP6.jpg" alt="getScrollX">  </p>
<p>在这些首部字段中，有很多值得关注。</p>
<p>例如no-cache字段，使用no-cache指令的目的是为了防止从缓存中返回过期的资源。客户端发送的请求中如果包含no-cache指令，则表示客户端将不会接收缓存过的响应。于是，“中间”的缓存服务器必须把客户端请求转发给源服务器。如果服务器返回的响应中包含no-cache指令，那么缓存服务器不能对资源进行缓存。源服务器以后也将不再对缓存服务器请求中提出的资源有效性进行确认，且禁止其对响应资源进行缓存操作。</p>
<p>例如首部字段If-Modified-Since，属附带条件之一，它会告知服务器若If-Modified-Since字段值早于资源的更新时间，则希望能处理该请求。而在指定If-Modified-Since字段值的日期时间之后，如果请求的资源都没有过更新，则返回状态码304 Not Modified的响应。If-Modified-Since用于确认代理或客户端拥有的本地资源的有效性。获取资源的更新日期时间，可通过确认首部字段Last-Modified来确定。</p>
<p>例如首部字段Expire，s会将资源失效的日期告知客户端。缓存服务器在接收到含有首部字段Expires的响应后，会以缓存来应答请求，在Expires字段值指定的时间之前，响应的副本会一直被保存。当超过指定的时间后，缓存服务器在请求发送过来时，会转向源服务器请求资源。源服务器不希望缓存服务器对资源缓存时，最好在Expires字段内写入与首部字段Date相同的时间值。但是，当首部字段Cache-Control有指定max-age指令时，比起首部字段Expires，会优先处理max-age指令。</p>
<p>书籍的结尾章节主要讨论的是HTTP的缺点、性能、安全问题，这里不再总结。关于网络的知识总结，可以参考我写的一篇日志：<a href="https://leeeyou.github.io/2016/12/28/blog-2016-12-28-Android%E4%B9%8B%E7%BD%91%E7%BB%9C%E9%80%9A%E4%BF%A1%E6%95%B4%E7%90%86/">Android之网络通信整理</a></p>
<p>总得来说，这本书的内容简单、阅读起来无障碍，主要用于疏通知识点，值得一阅。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://leeeyou.github.io/iBlogWebsite/2018/02/26/2018/2018-02-26-%E7%AE%97%E6%B3%95%E4%B9%8BLeetCode%20String%20Part1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://avatars1.githubusercontent.com/u/6735624?s=460&v=4">
      <meta itemprop="name" content="Leeeyou">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Leeeyou123">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/iBlogWebsite/2018/02/26/2018/2018-02-26-%E7%AE%97%E6%B3%95%E4%B9%8BLeetCode%20String%20Part1/" class="post-title-link" itemprop="url">算法之LeetCode String Part1</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2018-02-26 00:00:00" itemprop="dateCreated datePublished" datetime="2018-02-26T00:00:00+08:00">2018-02-26</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2021-03-05 11:22:54" itemprop="dateModified" datetime="2021-03-05T11:22:54+08:00">2021-03-05</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/iBlogWebsite/categories/code/" itemprop="url" rel="index"><span itemprop="name">code</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://leeeyou.github.io/iBlogWebsite/2017/07/04/2017/2017-07-04-Android%E9%A1%B9%E7%9B%AE%E6%95%B4%E5%90%88RN%E8%AF%B4%E6%98%8E%E6%96%87%E6%A1%A3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://avatars1.githubusercontent.com/u/6735624?s=460&v=4">
      <meta itemprop="name" content="Leeeyou">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Leeeyou123">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/iBlogWebsite/2017/07/04/2017/2017-07-04-Android%E9%A1%B9%E7%9B%AE%E6%95%B4%E5%90%88RN%E8%AF%B4%E6%98%8E%E6%96%87%E6%A1%A3/" class="post-title-link" itemprop="url">Android项目整合RN说明文档</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2017-07-04 00:00:00" itemprop="dateCreated datePublished" datetime="2017-07-04T00:00:00+08:00">2017-07-04</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2021-03-05 11:22:54" itemprop="dateModified" datetime="2021-03-05T11:22:54+08:00">2021-03-05</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/iBlogWebsite/categories/code/" itemprop="url" rel="index"><span itemprop="name">code</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="step1-native项目准备工作"><a href="#step1-native项目准备工作" class="headerlink" title="step1: native项目准备工作"></a>step1: native项目准备工作</h1><p>在app module下的build.gradle文件的dependencies中添加React Native 依赖：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">compile <span class="string">&quot;com.facebook.react:react-native:+&quot;</span></span><br></pre></td></tr></table></figure>

<p>com.android.support:appcompat的版本号用23.0.1，同时修改compileSdkVersion和buildToolsVersion</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">compileSdkVersion <span class="number">23</span></span><br><span class="line">buildToolsVersion <span class="string">&quot;23.0.1&quot;</span></span><br><span class="line">defaultConfig &#123;</span><br><span class="line">    applicationId <span class="string">&quot;com.quncao.testsize&quot;</span></span><br><span class="line">    minSdkVersion <span class="number">16</span></span><br><span class="line">    targetSdkVersion <span class="number">22</span></span><br><span class="line">    versionCode <span class="number">1</span></span><br><span class="line">    versionName <span class="string">&quot;1.0&quot;</span></span><br><span class="line">    ndk&#123;</span><br><span class="line">        abiFilters <span class="string">&quot;armeabi-v7a&quot;</span>, <span class="string">&quot;x86&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>修改清单文件，增加如下内容：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;activity android:name=<span class="string">&quot;com.facebook.react.devsupport.DevSettingsActivity&quot;</span> /&gt;</span><br></pre></td></tr></table></figure>

<h1 id="step2-将android工程改造成react-native工程"><a href="#step2-将android工程改造成react-native工程" class="headerlink" title="step2: 将android工程改造成react-native工程"></a>step2: 将android工程改造成react-native工程</h1><p>引入或者创建package.json文件  </p>
<ul>
<li>可以通过命令<code>npm init</code>创建，也可以复制一个空RN工程中的package.json</li>
</ul>
<p>引入或者创建node_modules文件  </p>
<ul>
<li>可以通过命令<code>npm install --save react react-native</code>创建，也可以复制一个空RN工程中的node_modules文件夹</li>
</ul>
<p>引入或者创建.flowconfig文件   </p>
<ul>
<li>可以通过<code>curl -o .flowconfig https://raw.githubusercontent.com/facebook/react-native/master/.flowconfig</code>创建，也可以复制一个空RN工程中的.flowconfig文件</li>
</ul>
<p>引入或者创建index.android.js文件</p>
<p>在项目根目录的build.gradle中(注意：不是app模块中的build.gradle文件)添加依赖</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">allprojects &#123;</span><br><span class="line">    repositories &#123;</span><br><span class="line">        mavenLocal()</span><br><span class="line">        jcenter()</span><br><span class="line">        maven &#123;</span><br><span class="line">            <span class="comment">// All of React Native (JS, Obj-C sources, Android binaries) is installed from npm</span></span><br><span class="line">            url <span class="string">&quot;$projectDir/../node_modules/react-native/android&quot;</span></span><br><span class="line"><span class="comment">//            url &quot;$rootDir/../node_modules/react-native/android&quot;</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>这里需要注意url的值，上面是指向了当前工程中的node_modules文件夹，而<code>$rootDir/../node_modules/react-native/android</code>这句会引用默认的react-native的版本，通常会是0.21.0</p>
<h1 id="step3-改造Applicatioin"><a href="#step3-改造Applicatioin" class="headerlink" title="step3: 改造Applicatioin"></a>step3: 改造Applicatioin</h1><p>实现ReactApplication类，并修改清单文件</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyApplication</span> <span class="keyword">extends</span> <span class="title">Application</span> <span class="keyword">implements</span> <span class="title">ReactApplication</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> ReactNativeHost mReactNativeHost = <span class="keyword">new</span> ReactNativeHost(<span class="keyword">this</span>) &#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">getUseDeveloperSupport</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> BuildConfig.DEBUG;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">protected</span> List&lt;ReactPackage&gt; <span class="title">getPackages</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> Arrays.&lt;ReactPackage&gt;asList(</span><br><span class="line">                    <span class="keyword">new</span> MainReactPackage()</span><br><span class="line">            );</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> ReactNativeHost <span class="title">getReactNativeHost</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> mReactNativeHost;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="step4-编写Activity，返回RN页面"><a href="#step4-编写Activity，返回RN页面" class="headerlink" title="step4: 编写Activity，返回RN页面"></a>step4: 编写Activity，返回RN页面</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.quncao.testsize;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.facebook.react.ReactActivity;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SettingActivity</span> <span class="keyword">extends</span> <span class="title">ReactActivity</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> String <span class="title">getMainComponentName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;TestSize&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>这里需要注意getMainComponentName的值和index.android.js这个文件中的registerComponent值保持一致</p>
<p>Demo工程：链接: <a target="_blank" rel="noopener" href="https://pan.baidu.com/s/1eSL4P7k">https://pan.baidu.com/s/1eSL4P7k</a> 密码: ggav</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/iBlogWebsite/page/3/"><i class="fa fa-angle-left" aria-label="Previous page"></i></a><a class="page-number" href="/iBlogWebsite/">1</a><span class="space">&hellip;</span><a class="page-number" href="/iBlogWebsite/page/3/">3</a><span class="page-number current">4</span><a class="page-number" href="/iBlogWebsite/page/5/">5</a><span class="space">&hellip;</span><a class="page-number" href="/iBlogWebsite/page/12/">12</a><a class="extend next" rel="next" href="/iBlogWebsite/page/5/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Leeeyou"
      src="https://avatars1.githubusercontent.com/u/6735624?s=460&v=4">
  <p class="site-author-name" itemprop="name">Leeeyou</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/iBlogWebsite/archives/">
        
          <span class="site-state-item-count">120</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/iBlogWebsite/categories/">
          
        <span class="site-state-item-count">3</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/iBlogWebsite/tags/">
          
        <span class="site-state-item-count">86</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/Leeeyou" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;Leeeyou" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Leeeyou</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://muse.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/iBlogWebsite/lib/anime.min.js"></script>
  <script src="/iBlogWebsite/lib/velocity/velocity.min.js"></script>
  <script src="/iBlogWebsite/lib/velocity/velocity.ui.min.js"></script>

<script src="/iBlogWebsite/js/utils.js"></script>

<script src="/iBlogWebsite/js/motion.js"></script>


<script src="/iBlogWebsite/js/schemes/muse.js"></script>


<script src="/iBlogWebsite/js/next-boot.js"></script>




  




  
<script src="/iBlogWebsite/js/local-search.js"></script>













  

  

</body>
</html>
